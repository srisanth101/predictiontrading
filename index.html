<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Camera Color Demo (Practice)</title>
<style>
  body{margin:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#0b1120;color:#eee;font-family:sans-serif}
  video{width:90%;max-width:420px;border-radius:10px;margin-top:10px}
  .btn{background:#22d3ee;color:#021;cursor:pointer;border:0;border-radius:8px;padding:10px 16px;font-weight:700;margin-top:20px}
  .result{margin-top:20px;font-size:22px;font-weight:700}
</style>
</head>
<body>
<h2>Practice Color-Detection Predictor</h2>
<p>Click start, show any red or green object to the camera.  
This is only a color demo â€“ not connected to trading data.</p>

<button id="startBtn" class="btn">Start Camera</button>
<video id="video" autoplay playsinline></video>
<div id="result" class="result"></div>

<script>
const video=document.getElementById('video');
const result=document.getElementById('result');
const startBtn=document.getElementById('startBtn');

startBtn.onclick=async()=>{
  const stream=await navigator.mediaDevices.getUserMedia({video:true});
  video.srcObject=stream;
  analyze();
};

function analyze(){
  const canvas=document.createElement('canvas');
  const ctx=canvas.getContext('2d');
  setInterval(()=>{
    if(!video.videoWidth) return;
    canvas.width=video.videoWidth; canvas.height=video.videoHeight;
    ctx.drawImage(video,0,0);
    const data=ctx.getImageData(0,0,canvas.width,canvas.height).data;
    let r=0,g=0,b=0;
    for(let i=0;i<data.length;i+=4){ r+=data[i]; g+=data[i+1]; b+=data[i+2]; }
    const n=data.length/4;
    r/=n; g/=n; b/=n;
    let color='Neutral';
    if(r>g*1.3) color='Red';
    else if(g>r*1.3) color='Green';
    result.textContent='Detected main color: '+color;
  },1000);
}
</script>
</body>
</html>
